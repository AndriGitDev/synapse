import { AgentSession } from '@/lib/types';

// Demo session: An AI agent performing a security audit
export const securityAuditSession: AgentSession = {
  id: 'demo-security-audit',
  name: 'Security Vulnerability Scan',
  description: 'Watch an AI audit a codebase for security issues',
  agent: 'clawdbot',
  startedAt: new Date('2026-02-09T09:00:00Z'),
  events: [
    {
      id: 's1',
      timestamp: new Date('2026-02-09T09:00:00Z'),
      type: 'user_message',
      content: 'Audit this repo for security vulnerabilities, focusing on the API routes',
    },
    {
      id: 's2',
      timestamp: new Date('2026-02-09T09:00:01Z'),
      type: 'thought',
      content: 'Security audit requested. I\'ll systematically check: 1) Input validation, 2) Authentication, 3) SQL injection, 4) XSS vectors, 5) Secrets exposure.',
      parentId: 's1',
    },
    {
      id: 's3',
      timestamp: new Date('2026-02-09T09:00:02Z'),
      type: 'tool_call',
      content: 'Scanning directory structure',
      metadata: { tool: 'exec', duration: 800 },
      parentId: 's2',
    },
    {
      id: 's4',
      timestamp: new Date('2026-02-09T09:00:03Z'),
      type: 'tool_result',
      content: 'Found: src/app/api/users/route.ts, src/app/api/auth/route.ts, src/app/api/admin/route.ts, src/lib/db.ts',
      metadata: { success: true },
      parentId: 's3',
    },
    {
      id: 's5',
      timestamp: new Date('2026-02-09T09:00:04Z'),
      type: 'file_read',
      content: 'Reading authentication route',
      metadata: { file: 'src/app/api/auth/route.ts', tool: 'read' },
      parentId: 's4',
    },
    {
      id: 's6',
      timestamp: new Date('2026-02-09T09:00:05Z'),
      type: 'decision',
      content: 'üö® CRITICAL: Found hardcoded JWT secret in auth route. This should be in environment variables.',
      parentId: 's5',
    },
    {
      id: 's7',
      timestamp: new Date('2026-02-09T09:00:06Z'),
      type: 'file_read',
      content: 'Checking database queries',
      metadata: { file: 'src/lib/db.ts', tool: 'read' },
      parentId: 's6',
    },
    {
      id: 's8',
      timestamp: new Date('2026-02-09T09:00:07Z'),
      type: 'thought',
      content: 'Analyzing SQL query patterns. Looking for string concatenation instead of parameterized queries.',
      parentId: 's7',
    },
    {
      id: 's9',
      timestamp: new Date('2026-02-09T09:00:08Z'),
      type: 'decision',
      content: 'üö® HIGH: SQL injection vulnerability at line 45. Query uses string interpolation: `SELECT * FROM users WHERE id = ${userId}`',
      parentId: 's8',
    },
    {
      id: 's10',
      timestamp: new Date('2026-02-09T09:00:09Z'),
      type: 'file_read',
      content: 'Checking admin routes',
      metadata: { file: 'src/app/api/admin/route.ts', tool: 'read' },
      parentId: 's9',
    },
    {
      id: 's11',
      timestamp: new Date('2026-02-09T09:00:10Z'),
      type: 'decision',
      content: '‚ö†Ô∏è MEDIUM: Admin route lacks rate limiting. Vulnerable to brute force attacks.',
      parentId: 's10',
    },
    {
      id: 's12',
      timestamp: new Date('2026-02-09T09:00:11Z'),
      type: 'file_read',
      content: 'Checking user input handling',
      metadata: { file: 'src/app/api/users/route.ts', tool: 'read' },
      parentId: 's11',
    },
    {
      id: 's13',
      timestamp: new Date('2026-02-09T09:00:12Z'),
      type: 'decision',
      content: '‚ö†Ô∏è MEDIUM: User input not sanitized before rendering. Potential XSS via name field.',
      parentId: 's12',
    },
    {
      id: 's14',
      timestamp: new Date('2026-02-09T09:00:13Z'),
      type: 'tool_call',
      content: 'Scanning for exposed secrets',
      metadata: { tool: 'exec', duration: 1200 },
      parentId: 's13',
    },
    {
      id: 's15',
      timestamp: new Date('2026-02-09T09:00:14Z'),
      type: 'tool_result',
      content: 'Found: .env.example contains actual API keys (not placeholders)',
      metadata: { success: true },
      parentId: 's14',
    },
    {
      id: 's16',
      timestamp: new Date('2026-02-09T09:00:15Z'),
      type: 'decision',
      content: 'üö® HIGH: Real API keys committed in .env.example. These need immediate rotation.',
      parentId: 's15',
    },
    {
      id: 's17',
      timestamp: new Date('2026-02-09T09:00:16Z'),
      type: 'thought',
      content: 'Audit complete. Found 2 critical, 2 high, and 2 medium severity issues. Preparing summary.',
      parentId: 's16',
    },
    {
      id: 's18',
      timestamp: new Date('2026-02-09T09:00:17Z'),
      type: 'assistant_message',
      content: 'üîí Security Audit Complete\n\nüö® CRITICAL (2):\n‚Ä¢ Hardcoded JWT secret in auth route\n‚Ä¢ SQL injection in db.ts line 45\n\n‚ö†Ô∏è HIGH (2):\n‚Ä¢ Real API keys in .env.example\n‚Ä¢ Missing rate limiting on admin routes\n\n‚ö° MEDIUM (2):\n‚Ä¢ XSS vulnerability in user name field\n‚Ä¢ No input sanitization\n\nRecommend immediate fixes for critical issues.',
      parentId: 's17',
    },
  ],
};
